---
layout: null
permalink: /api/topics.json
---
{%- assign all_tags = site.guides | map: "tags" | join: "," | split: "," | uniq | sort -%}
{
  "meta": {
    "generated": "{{ site.time | date_to_xmlschema }}",
    "count": {{ all_tags.size }},
    "version": "1.0"
  },
  "topics": [
    {%- for tag in all_tags -%}
    {
      "tag": "{{ tag }}",
      "slug": "{{ tag | slugify }}",
      "guides": [
        {%- assign tagged_guides = site.guides | where_exp: "guide", "guide.tags contains tag" -%}
        {%- for guide in tagged_guides -%}
        {
          "title": {{ guide.title | jsonify }},
          "slug": "{{ guide.url | replace: '/guides/', '' | replace: '/', '' }}",
          "url": "{{ site.url }}{{ guide.url }}",
          "difficulty": "{{ guide.difficulty }}",
          "estimated_time": "{{ guide.estimated_time }}"
        }{%- unless forloop.last -%},{%- endunless -%}
        {%- endfor -%}
      ],
      "count": {{ tagged_guides.size }}
    }{%- unless forloop.last -%},{%- endunless -%}
    {%- endfor -%}
  ]
}
